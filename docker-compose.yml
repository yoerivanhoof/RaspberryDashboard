version: "3.7"
services:
    dashboard-backend:
        container_name: therivervan-raspberrydashboardbackend
        image: therivervan/raspberrydashboardbackend
        environment:
                - DiscordBotToken=Njk1NzQ1NDE0NzQ5NzQ5MzA5.Xox7ow.ZuUou90vHI70qc3rRW-Cu-rqpgg
                - ASPNETCORE_HTTPS_PORT=5001
                - ASPNETCORE_URLS=https://+;http://+ mywebapi
                - Kestrel__Certificates__Default__Path=/app/cert-aspnetcore.pfx
                - Kestrel__Certificates__Default__Password=ufo
        build:
            context: RaspberryDashboard-Backend/
            dockerfile: Dockerfile
        ports:
            - "5000:80"
            - "5001:443"
    dashboard-frontend:
        container_name: therivervan-raspberrydashboardfrontend
        image: therivervan/raspberrydashboardfrontend
        environment:
                - backendURL=https://192.168.178.52:5001/api
        build: 
            context: RaspberryDashboard-Frontend/
            dockerfile: Dockerfile
        ports:
            - "80:80"